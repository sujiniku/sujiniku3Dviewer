これは仕様書です。設計仕様書です。仕様書には内部仕様も含まれます。  

__注意__  下記の構成は著作時点(2019年09月17日)のものであり、今後の変更の可能性がある。

# 現在のシステム構成
この章には、すでに実現しているシステム構成のみを書いてください。  

今後の設計目標の記述は、なるべく別の章を設け、そちらに記述してください。当「現在のシステム構成」には、今後の設計目標は記述しないでください。  

## ソースファイルの構成
- ファイル分割は行ってない。

## フォント
Windows標準のフォントを使用する設定である。

このソフト自体には、フォントを組み込んでいない。  

ソースコードでは、フォントについて、指定するような処理は行っていない。  


## モード仕様

カメラを移動するモードと、被写体を移動するモードがある。


それらを、さらにどう移動するかで、平行移動タイプから自転タイプの移動かという2種類がある。

用語の混同をふせぐため、移動のしかたについては「タイプ」typeという語句を使った。


モード

moveCamera　// これがカメラ移動モード

moveModel // 被写体の移動モード


タイプ

moveParallel // 平行移動タイプ

moveRotate // 回転移動（自転）タイプ



## 変数の内容
変数が多すぎるので、すべての変数は、紹介していない。  

ParallelDefferX // 平行移動の移動量を一時的に保管するためのバッファ

angleStep // 回転作業のときの、ボタン1回あたり押したときの角度の変化する大きさ。

rotArrowSideRightDefferX // まず、上面図に向きを表示するための矢印がある。その矢先の右側の斜線の計算用バッファのX座標。


rotBufferXinput1=0; // 回転行列の入力側ベクトルに相当する変数で使うX座標。

rotBufferXoutput1 = 0; // こちらは回転行列の出力側のX座標。

rotBufferX3 // 今のところ未使用


int camX = 300; // カメラ位置のX座標。ウィンドウの座標計算に流用しているので、初期位置が300という大きめの数字になっている。


arrow_center_X // 矢印の矢軸の中心位置のX座標

arrow_length // 矢印の矢軸の長さ。


int arrow_Head_X  // 矢印の先端のX座標

arrow_Head_LeftX // 矢印の矢先にある2つの斜め線のうちの左側。ここでいう「左」とは、矢軸の中心にいる観測者が、矢先に向かって見た場合の方向。


// 次のいくつかの作業で、回転に入る前に平行移動モード側で数値を保管するのは、ケタ落ちなどによる誤差累積を防ぐ意図である。

arrow_Head_RightXrot0 // 回転に入る前に、平行移動モード側などで、これを保管する。これは、その保管時の矢先の右側のX座標。


int arrow_Head_Xrot0 = arrow_center_X; // 回転に入る前の位置保存。ケタ落ちの誤差対策のため。矢印の先端のX座標



arrow_Head_Xdelta // 回転作業時の、移動量を保管するためのバッファ。



arrow_Bottom_X // 矢の羽のついている側のX座標。なお日本語で「やじり」（鏃、矢尻）と言った場合、先端の刃のついている側のことなので注意。

arrow_Bottom_Xdelta // 上記の矢ボトムの回転作業時の計算用バッファのX座標。


// これから書くsLX などは、被写体の壁の計算用。

startLineX // スタート・ライン・X

startLineZ // スタート・ライン・Z

endLineX // エンド・ライン・X

camY = 70; // 視線の高さ


angleAccumulation // 回転計算時の、保存時（平行移動から回転移動に移った時に保存）からの回転した角度の合計値。

int angleCount = 0 ; // 上記の角度合計値を計算するための、カウンター。これを介して整数倍の計算をすることで、ケタ落ち誤差を防いでいる つもり。

その他、ソースコード中の各コードで、ローカル変数を定義している。くわしくはコード現地のコメントを参照せよ。
